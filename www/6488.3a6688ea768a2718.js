"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6488],{6488:(F,f,l)=>{l.r(f),l.d(f,{LoginPageModule:()=>T});var d=l(6814),u=l(95),g=l(3134),m=l(6033),v=l(5861),e=l(2029),x=l(5472),b=l(5175),y=l(9862);const _=["otpinput"];function P(o,s){if(1&o){const i=e.EpF();e.TgZ(0,"ion-input",6),e.NdJ("ngModelChange",function(n){e.CHM(i);const r=e.oxw();return e.KtG(r.mobilenumber=n)})("keyup.enter",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.enterotp())}),e.qZA()}if(2&o){const i=e.oxw();e.Q6J("minlength",10)("ngModel",i.mobilenumber)}}function k(o,s){if(1&o){const i=e.EpF();e.TgZ(0,"div")(1,"input",9,10),e.NdJ("keydown",function(n){const a=e.CHM(i).index,c=e.oxw(2);return e.KtG(c.handleback(a,n))})("input",function(n){const a=e.CHM(i).index,c=e.oxw(2);return e.KtG(c.moveFocus(a,n))}),e.qZA()()}if(2&o){const i=s.$implicit;e.xp6(1),e.Q6J("value",i)}}function w(o,s){if(1&o&&(e.TgZ(0,"div",7),e.YNc(1,k,3,1,"div",8),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.otparr)("ngForTrackBy",i.trackByFn)}}function L(o,s){if(1&o){const i=e.EpF();e.TgZ(0,"ion-button",11),e.NdJ("click",function(n){e.CHM(i);const r=e.oxw();return e.KtG(r.verifyOtp(n))}),e._uU(1,"Verify OTP"),e.qZA()}}const C=[{path:"",component:(()=>{var o;class s{constructor(t,n,r,a,c,h,p){this.modal=t,this.auth=n,this.http=r,this.route=a,this.alertController=c,this.loadingcontroller=h,this.navCtrl=p,this.otparr=[],this.arr=[],this.otp="",this.mobilenumber="",this.checkotp=!1,this.flag=!1,this.checkotp=!1,this.otparr=new Array(6).fill("")}ngAfterViewInit(){var t;null!==(t=this.otpInputs)&&void 0!==t&&t.first&&this.otpInputs.first.nativeElement.focus()}ngOnInit(){this.http.get("./assets/userdatabase.json").subscribe(t=>{this.arr=t.usernumber})}enterotp(){this.checkotp=!0,console.log(this.mobilenumber);const t=this.auth.signInWithPhoneNumber("+91"+this.mobilenumber);console.log(t)}gotohomepage(){var t=this;return(0,v.Z)(function*(){1==t.flag&&t.navCtrl.navigateRoot(["homepage"],{animated:!0,animationDirection:"forward"})})()}handleback(t,n){var r,a;"Backspace"===n.key&&!this.otparr[t]&&t>0&&null!==(r=this.otpInputs)&&void 0!==r&&r.toArray()[t-1].nativeElement&&t<this.otparr.length&&(null===(a=this.otpInputs)||void 0===a||a.toArray()[t-1].nativeElement.focus())}verifyOtp(t){var n=this;return(0,v.Z)(function*(){const r=yield n.loadingcontroller.create({message:"Please wait...",duration:500,translucent:!0});yield r.present();try{n.otp=t,yield n.auth.verifyOtp(n.otp),n.flag=!0,n.arr.find(c=>{c.phonenumber==n.mobilenumber&&n.gotohomepage()})}catch{yield r.dismiss(),yield(yield n.alertController.create({header:"Alert",message:"Please Enter Correct Otp",buttons:["OK"]})).present()}})()}moveFocus(t,n){let a=n.target.value;const c=[...this.otparr];console.log(t),c[t]=a.substring(a.length-1),this.otparr=c;const h=this.otparr.join("");if(6!=this.otparr.length||this.otparr.includes("")){if(""!==a&&t<6){var p;null===(p=this.otpInputs)||void 0===p||p.toArray()[t+1].nativeElement.focus()}}else this.verifyOtp(h)}trackByFn(t){return t}}return(o=s).\u0275fac=function(t){return new(t||o)(e.Y36(g.IN),e.Y36(b.e),e.Y36(y.eN),e.Y36(m.F0),e.Y36(g.Br),e.Y36(g.HT),e.Y36(x.SH))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],viewQuery:function(t,n){if(1&t&&e.Gf(_,5),2&t){let r;e.iGM(r=e.CRH())&&(n.otpInputs=r)}},decls:7,vars:4,consts:[[2,"width","19rem","margin","20% auto 0","text-align","center"],["src","assets/whatsapp.png",2,"width","30vh","height","30vh","border-radius","1rem"],["type","text","style","\n    font-size: larger;\n    border: 2px solid #ccc;\n    border-radius: 1rem;\n    text-align: center;\n    margin: 1rem auto;\n    padding: 0.5rem;\n    width: 80%;\n    display: block;\n  ","placeholder","Please Enter Number Here","required","",3,"minlength","ngModel","ngModelChange","keyup.enter",4,"ngIf"],["expand","block","id","sign-in-button",2,"border-radius","3rem","margin","1rem auto","padding","0.75rem 1.5rem","width","80%","display","block","font-size","larger","color","white","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)",3,"disabled","click"],["style","display: flex; justify-content: center;margin: 20px 0;",4,"ngIf"],["expand","block","style","\n    \n    border-radius: 3rem;\n    margin: 1rem auto;\n    padding: 0.75rem 1.5rem;\n    width: 80%;\n    display: block;\n    font-size: larger;\n    color: white;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  ",3,"click",4,"ngIf"],["type","text","placeholder","Please Enter Number Here","required","",2,"font-size","larger","border","2px solid #ccc","border-radius","1rem","text-align","center","margin","1rem auto","padding","0.5rem","width","80%","display","block",3,"minlength","ngModel","ngModelChange","keyup.enter"],[2,"display","flex","justify-content","center","margin","20px 0"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","number","maxlength","1",2,"width","40px","height","40px","font-size","larger","margin","5px","font-size","1.2em","text-align","center",3,"value","keydown","input"],["otpinput",""],["expand","block",2,"border-radius","3rem","margin","1rem auto","padding","0.75rem 1.5rem","width","80%","display","block","font-size","larger","color","white","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.qZA(),e.YNc(2,P,1,2,"ion-input",2),e.TgZ(3,"ion-button",3),e.NdJ("click",function(){return n.enterotp()}),e._uU(4,"Send OTP"),e.qZA(),e.YNc(5,w,2,2,"div",4),e.YNc(6,L,2,0,"ion-button",5)),2&t&&(e.xp6(2),e.Q6J("ngIf",!n.checkotp),e.xp6(1),e.Q6J("disabled",n.mobilenumber.length<10),e.xp6(2),e.Q6J("ngIf",n.checkotp),e.xp6(1),e.Q6J("ngIf",n.checkotp))},dependencies:[d.sg,d.O5,u.JJ,u.Q7,u.wO,u.On,g.YG,g.pK,g.j9],styles:["ion-input[_ngcontent-%COMP%]:focus{border-color:#32cd32;box-shadow:0 0 5px #32cd32}"]}),s})()}];let M=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(C),m.Bz]}),s})(),T=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[b.e],imports:[d.ez,u.u5,g.Pc,M]}),s})()}}]);