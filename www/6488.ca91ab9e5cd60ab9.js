"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6488],{6488:(Z,x,l)=>{l.r(x),l.d(x,{LoginPageModule:()=>F});var p=l(6814),u=l(95),g=l(3134),m=l(8779),h=l(5861),t=l(2029),_=l(5472),b=l(5175),v=l(9862);const y=["otpinput"];function P(o,s){if(1&o){const i=t.EpF();t.TgZ(0,"ion-input",7),t.NdJ("ngModelChange",function(n){t.CHM(i);const r=t.oxw();return t.KtG(r.mobilenumber=n)})("keyup.enter",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.enterotp())}),t.qZA()}if(2&o){const i=t.oxw();t.Q6J("minlength",10)("ngModel",i.mobilenumber)}}function k(o,s){if(1&o){const i=t.EpF();t.TgZ(0,"ion-button",8),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.enterotp())}),t._uU(1,"Send OTP"),t.qZA()}if(2&o){const i=t.oxw();t.Q6J("disabled",i.mobilenumber.length<10)}}function w(o,s){if(1&o){const i=t.EpF();t.TgZ(0,"div")(1,"input",11,12),t.NdJ("keydown",function(n){const a=t.CHM(i).index,c=t.oxw(2);return t.KtG(c.handleback(a,n))})("input",function(n){const a=t.CHM(i).index,c=t.oxw(2);return t.KtG(c.moveFocus(a,n))}),t.qZA()()}if(2&o){const i=s.$implicit;t.xp6(1),t.Q6J("value",i)}}function L(o,s){if(1&o&&(t.TgZ(0,"div",9),t.YNc(1,w,3,1,"div",10),t.qZA()),2&o){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.otparr)("ngForTrackBy",i.trackByFn)}}function T(o,s){if(1&o){const i=t.EpF();t.TgZ(0,"ion-button",13),t.NdJ("click",function(n){t.CHM(i);const r=t.oxw();return t.KtG(r.verifyOtp(n))}),t._uU(1,"Verify OTP"),t.qZA()}}const C=[{path:"",component:(()=>{var o;class s{constructor(e,n,r,a,c,f,d){this.modal=e,this.auth=n,this.http=r,this.route=a,this.alertController=c,this.loadingcontroller=f,this.navCtrl=d,this.otparr=[],this.arr=[],this.otp="",this.mobilenumber="",this.checkotp=!1,this.flag=!1,this.checkotp=!1,this.otparr=new Array(6).fill("")}ngAfterViewInit(){var e;null!==(e=this.otpInputs)&&void 0!==e&&e.first&&this.otpInputs.first.nativeElement.focus()}ngOnInit(){var e=this;this.http.get("./assets/userdatabase.json").subscribe(function(){var n=(0,h.Z)(function*(r){e.arr=yield r.usernumber});return function(r){return n.apply(this,arguments)}}())}enterotp(){this.checkotp=!0,console.log(this.mobilenumber);const e=this.auth.signInWithPhoneNumber("+91"+this.mobilenumber);console.log(e)}gotohomepage(){var e=this;return(0,h.Z)(function*(){1==e.flag&&e.navCtrl.navigateRoot(["homepage"],{animated:!0,animationDirection:"forward"})})()}handleback(e,n){var r,a;"Backspace"===n.key&&!this.otparr[e]&&e>0&&null!==(r=this.otpInputs)&&void 0!==r&&r.toArray()[e-1].nativeElement&&e<this.otparr.length&&(null===(a=this.otpInputs)||void 0===a||a.toArray()[e-1].nativeElement.focus())}verifyOtp(e){var n=this;return(0,h.Z)(function*(){const r=yield n.loadingcontroller.create({message:"Please wait...",duration:500,translucent:!0});yield r.present();try{if(n.otp=e,yield n.auth.verifyOtp(n.otp)){n.flag=!0;for(const c of n.arr)if(c.phonenumber===n.mobilenumber)return void n.gotohomepage()}}catch(a){console.error("Error verifying OTP:",a),yield r.dismiss(),yield(yield n.alertController.create({header:"Alert",message:"Please Enter Correct OTP",buttons:["OK"]})).present()}finally{yield r.dismiss()}})()}moveFocus(e,n){let a=n.target.value;const c=[...this.otparr];console.log(e),c[e]=a.substring(a.length-1),this.otparr=c;const f=this.otparr.join("");if(6!=this.otparr.length||this.otparr.includes("")){if(""!==a&&e<6){var d;null===(d=this.otpInputs)||void 0===d||d.toArray()[e+1].nativeElement.focus()}}else this.verifyOtp(f)}trackByFn(e){return e}}return(o=s).\u0275fac=function(e){return new(e||o)(t.Y36(g.IN),t.Y36(b.e),t.Y36(v.eN),t.Y36(m.F0),t.Y36(g.Br),t.Y36(g.HT),t.Y36(_.SH))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],viewQuery:function(e,n){if(1&e&&t.Gf(y,5),2&e){let r;t.iGM(r=t.CRH())&&(n.otpInputs=r)}},decls:7,vars:4,consts:[[2,"width","19rem","margin","20% auto 0","text-align","center"],["src","assets/whatsapp.png",2,"width","30vh","height","30vh","border-radius","1rem"],["type","text","style","\n    font-size: larger;\n    border: 2px solid #ccc;\n    border-radius: 1rem;\n    text-align: center;\n    margin: 1rem auto;\n    padding: 0.5rem;\n    width: 80%;\n    display: block;\n  ","placeholder","Please Enter Number Here","required","",3,"minlength","ngModel","ngModelChange","keyup.enter",4,"ngIf"],["id","sign-in-button"],["expand","block","style","\n    \n    border-radius: 3rem;\n    margin: 1rem auto;\n    padding: 0.75rem 1.5rem;\n    width: 80%;\n    display: block;\n    font-size: larger;\n    color: white;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  ",3,"disabled","click",4,"ngIf"],["style","display: flex; justify-content: center;margin: 20px 0;",4,"ngIf"],["expand","block","style","\n    \n    border-radius: 3rem;\n    margin: 1rem auto;\n    padding: 0.75rem 1.5rem;\n    width: 80%;\n    display: block;\n    font-size: larger;\n    color: white;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  ",3,"click",4,"ngIf"],["type","text","placeholder","Please Enter Number Here","required","",2,"font-size","larger","border","2px solid #ccc","border-radius","1rem","text-align","center","margin","1rem auto","padding","0.5rem","width","80%","display","block",3,"minlength","ngModel","ngModelChange","keyup.enter"],["expand","block",2,"border-radius","3rem","margin","1rem auto","padding","0.75rem 1.5rem","width","80%","display","block","font-size","larger","color","white","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)",3,"disabled","click"],[2,"display","flex","justify-content","center","margin","20px 0"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","number","maxlength","1",2,"width","40px","height","40px","font-size","larger","margin","5px","font-size","1.2em","text-align","center",3,"value","keydown","input"],["otpinput",""],["expand","block",2,"border-radius","3rem","margin","1rem auto","padding","0.75rem 1.5rem","width","80%","display","block","font-size","larger","color","white","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.qZA(),t.YNc(2,P,1,2,"ion-input",2),t._UZ(3,"div",3),t.YNc(4,k,2,1,"ion-button",4),t.YNc(5,L,2,2,"div",5),t.YNc(6,T,2,0,"ion-button",6)),2&e&&(t.xp6(2),t.Q6J("ngIf",!n.checkotp),t.xp6(2),t.Q6J("ngIf",!n.checkotp),t.xp6(1),t.Q6J("ngIf",n.checkotp),t.xp6(1),t.Q6J("ngIf",n.checkotp))},dependencies:[p.sg,p.O5,u.JJ,u.Q7,u.wO,u.On,g.YG,g.pK,g.j9],styles:["ion-input[_ngcontent-%COMP%]:focus{border-color:#32cd32;box-shadow:0 0 5px #32cd32}"]}),s})()}];let M=(()=>{var o;class s{}return(o=s).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.Bz.forChild(C),m.Bz]}),s})(),F=(()=>{var o;class s{}return(o=s).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[b.e],imports:[p.ez,u.u5,g.Pc,M]}),s})()}}]);