"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[348],{5961:(N,M,h)=>{h.d(M,{GW:()=>d,dk:()=>U,oK:()=>m});var m=function(e){return e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS",e}(m||{}),d=function(e){return e.Rear="REAR",e.Front="FRONT",e}(d||{}),U=function(e){return e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl",e}(U||{})},8162:(N,M,h)=>{h.d(M,{V1:()=>U,dk:()=>d.dk,oK:()=>d.oK});var m=h(2726),d=h(5961);const U=(0,m.fo)("Camera",{web:()=>h.e(6468).then(h.bind(h,6468)).then(e=>new e.CameraWeb)})},2726:(N,M,h)=>{h.d(M,{Uw:()=>K,fo:()=>H,xz:()=>P});var m=h(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var O=function(o){return o.Unimplemented="UNIMPLEMENTED",o.Unavailable="UNAVAILABLE",o}(O||{});class P extends Error{constructor(t,n,a){super(t),this.message=t,this.code=n,this.data=a}}const G=o=>{var t,n,a,l,i;const p=o.CapacitorCustomPlatform||null,s=o.Capacitor||{},w=s.Plugins=s.Plugins||{},_=o.CapacitorPlatforms,D=(null===(t=null==_?void 0:_.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==p?p.name:(o=>{var t,n;return null!=o&&o.androidBridge?"android":null!==(n=null===(t=null==o?void 0:o.webkit)||void 0===t?void 0:t.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(o)),ce=(null===(n=null==_?void 0:_.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==D()),ue=(null===(a=null==_?void 0:_.currentPlatform)||void 0===a?void 0:a.isPluginAvailable)||(b=>{const v=V.get(b);return!!(null!=v&&v.platforms.has(D())||ie(b))}),ie=(null===(l=null==_?void 0:_.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(b=>{var v;return null===(v=s.PluginHeaders)||void 0===v?void 0:v.find(J=>J.name===b)}),V=new Map,pe=(null===(i=null==_?void 0:_.currentPlatform)||void 0===i?void 0:i.registerPlugin)||((b,v={})=>{const J=V.get(b);if(J)return console.warn(`Capacitor plugin "${b}" already registered. Cannot register plugins twice.`),J.proxy;const $=D(),R=ie(b);let E;const _e=function(){var C=(0,m.Z)(function*(){return!E&&$ in v?E=E="function"==typeof v[$]?yield v[$]():v[$]:null!==p&&!E&&"web"in v&&(E=E="function"==typeof v.web?yield v.web():v.web),E});return function(){return C.apply(this,arguments)}}(),X=C=>{let x;const Z=(...A)=>{const I=_e().then(T=>{const j=((C,x)=>{var Z,A;if(!R){if(C)return null===(A=C[x])||void 0===A?void 0:A.bind(C);throw new P(`"${b}" plugin is not implemented on ${$}`,O.Unimplemented)}{const I=null==R?void 0:R.methods.find(T=>x===T.name);if(I)return"promise"===I.rtype?T=>s.nativePromise(b,x.toString(),T):(T,j)=>s.nativeCallback(b,x.toString(),T,j);if(C)return null===(Z=C[x])||void 0===Z?void 0:Z.bind(C)}})(T,C);if(j){const Y=j(...A);return x=null==Y?void 0:Y.remove,Y}throw new P(`"${b}.${C}()" is not implemented on ${$}`,O.Unimplemented)});return"addListener"===C&&(I.remove=(0,m.Z)(function*(){return x()})),I};return Z.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(Z,"name",{value:C,writable:!1,configurable:!1}),Z},ae=X("addListener"),se=X("removeListener"),ve=(C,x)=>{const Z=ae({eventName:C},x),A=function(){var T=(0,m.Z)(function*(){const j=yield Z;se({eventName:C,callbackId:j},x)});return function(){return T.apply(this,arguments)}}(),I=new Promise(T=>Z.then(()=>T({remove:A})));return I.remove=(0,m.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield A()}),I},ee=new Proxy({},{get(C,x){switch(x){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return R?ve:ae;case"removeListener":return se;default:return X(x)}}});return w[b]=ee,V.set(b,{name:b,proxy:ee,platforms:new Set([...Object.keys(v),...R?[$]:[]])}),ee});return s.convertFileSrc||(s.convertFileSrc=b=>b),s.getPlatform=D,s.handleError=b=>o.console.error(b),s.isNativePlatform=ce,s.isPluginAvailable=ue,s.pluginMethodNoop=(b,v,J)=>Promise.reject(`${J} does not have an implementation of "${v}".`),s.registerPlugin=pe,s.Exception=P,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},S=(o=>o.Capacitor=G(o))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),H=S.registerPlugin;class K{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){var a=this;this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i);const p=function(){var w=(0,m.Z)(function*(){return a.removeListener(t,n)});return function(){return w.apply(this,arguments)}}(),s=Promise.resolve({remove:p});return Object.defineProperty(s,"remove",{value:(w=(0,m.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield p()}),function(){return w.apply(this,arguments)})}),s;var w}removeAllListeners(){var t=this;return(0,m.Z)(function*(){t.listeners={};for(const n in t.windowListeners)t.removeWindowListener(t.windowListeners[n]);t.windowListeners={}})()}notifyListeners(t,n){const a=this.listeners[t];a&&a.forEach(l=>l(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:a=>{this.notifyListeners(n,a)}}}unimplemented(t="not implemented"){return new S.Exception(t,O.Unimplemented)}unavailable(t="not available"){return new S.Exception(t,O.Unavailable)}removeListener(t,n){var a=this;return(0,m.Z)(function*(){const l=a.listeners[t];if(!l)return;const i=l.indexOf(n);a.listeners[t].splice(i,1),a.listeners[t].length||a.removeWindowListener(a.windowListeners[t])})()}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const g=o=>encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),y=o=>o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class f extends K{getCookies(){return(0,m.Z)(function*(){const t=document.cookie,n={};return t.split(";").forEach(a=>{if(a.length<=0)return;let[l,i]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=y(l).trim(),i=y(i).trim(),n[l]=i}),n})()}setCookie(t){return(0,m.Z)(function*(){try{const n=g(t.key),a=g(t.value),l=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),p=null!=t.url&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${a||""}${l}; path=${i}; ${p};`}catch(n){return Promise.reject(n)}})()}deleteCookie(t){return(0,m.Z)(function*(){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,m.Z)(function*(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(t){return Promise.reject(t)}})()}clearAllCookies(){var t=this;return(0,m.Z)(function*(){try{yield t.clearCookies()}catch(n){return Promise.reject(n)}})()}}H("CapacitorCookies",{web:()=>new f});const r=function(){var o=(0,m.Z)(function*(t){return new Promise((n,a)=>{const l=new FileReader;l.onload=()=>{const i=l.result;n(i.indexOf(",")>=0?i.split(",")[1]:i)},l.onerror=i=>a(i),l.readAsDataURL(t)})});return function(n){return o.apply(this,arguments)}}();class le extends K{request(t){return(0,m.Z)(function*(){const n=((o,t={})=>{const n=Object.assign({method:o.method||"GET",headers:o.headers},t),l=((o={})=>{const t=Object.keys(o);return Object.keys(o).map(l=>l.toLocaleLowerCase()).reduce((l,i,p)=>(l[i]=o[t[p]],l),{})})(o.headers)["content-type"]||"";if("string"==typeof o.data)n.body=o.data;else if(l.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[p,s]of Object.entries(o.data||{}))i.set(p,s);n.body=i.toString()}else if(l.includes("multipart/form-data")){const i=new FormData;if(o.data instanceof FormData)o.data.forEach((s,w)=>{i.append(w,s)});else for(const s of Object.keys(o.data))i.append(s,o.data[s]);n.body=i;const p=new Headers(n.headers);p.delete("content-type"),n.headers=p}else(l.includes("application/json")||"object"==typeof o.data)&&(n.body=JSON.stringify(o.data));return n})(t,t.webFetchExtra),a=((o,t=!0)=>o?Object.entries(o).reduce((a,l)=>{const[i,p]=l;let s,w;return Array.isArray(p)?(w="",p.forEach(_=>{s=t?encodeURIComponent(_):_,w+=`${i}=${s}&`}),w.slice(0,-1)):(s=t?encodeURIComponent(p):p,w=`${i}=${s}`),`${a}&${w}`},"").substr(1):null)(t.params,t.shouldEncodeUrlParams),l=a?`${t.url}?${a}`:t.url,i=yield fetch(l,n),p=i.headers.get("content-type")||"";let w,_,{responseType:s="text"}=i.ok?t:{};switch(p.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":_=yield i.blob(),w=yield r(_);break;case"json":w=yield i.json();break;default:w=yield i.text()}const F={};return i.headers.forEach((D,Q)=>{F[Q]=D}),{data:w,headers:F,status:i.status,url:i.url}})()}get(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"GET"}))})()}post(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"POST"}))})()}put(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"PUT"}))})()}patch(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"PATCH"}))})()}delete(t){var n=this;return(0,m.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"DELETE"}))})()}}H("CapacitorHttp",{web:()=>new le})},348:(N,M,h)=>{h.d(M,{s:()=>re});var m=h(5861),d=h(3134),U=h(8162),e=h(2029),z=h(6658);let L=(()=>{var g;class y{constructor(c,r,u){this.modalController=c,this.actionSheetController=r,this.chatservice=u}ngOnInit(){localStorage.getItem("photo")?this.imageUrl=localStorage.getItem("photo"):this.chatservice.imageUrl$.subscribe(c=>{this.imageUrl=c}),this.presentActionSheet()}presentActionSheet(){var c=this;return(0,m.Z)(function*(){yield(yield c.actionSheetController.create({header:"Select Image",buttons:[{text:"Photo",icon:"camera",handler:()=>{c.takePicture(U.oK.Camera)}},{text:"Gallery",icon:"image",handler:()=>{c.takePicture(U.oK.Photos)}},{text:"Cancel",icon:"close",role:"cancel"}]})).present()})()}takePicture(c){var r=this;return(0,m.Z)(function*(){try{const u=yield U.V1.getPhoto({quality:90,allowEditing:!0,resultType:U.dk.DataUrl,source:c});r.imageUrl=u.dataUrl,r.chatservice.setImageUrl(r.imageUrl),localStorage.setItem("photo",r.imageUrl)}catch(u){console.error("Error taking picture:",u)}})()}close(){this.modalController.dismiss()}}return(g=y).\u0275fac=function(c){return new(c||g)(e.Y36(d.IN),e.Y36(d.BX),e.Y36(z.a))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-image-modal"]],decls:7,vars:1,consts:[[1,"ion-padding",2,"background-color","white"],["slot","end"],[3,"click"],["name","close-outline"],[3,"src"]],template:function(c,r){1&c&&(e.TgZ(0,"ion-content",0)(1,"ion-header")(2,"ion-buttons",1)(3,"ion-button",2),e.NdJ("click",function(){return r.close()}),e._UZ(4,"ion-icon",3),e.qZA()()(),e.TgZ(5,"div",2),e.NdJ("click",function(){return r.presentActionSheet()}),e._UZ(6,"img",4),e.qZA()()),2&c&&(e.xp6(6),e.Q6J("src",r.imageUrl,e.LSH))},dependencies:[d.YG,d.Sm,d.W2,d.Gu,d.gu],styles:["div[_ngcontent-%COMP%]{width:-webkit-fill-available;height:-webkit-fill-available;overflow:hidden}div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}"]}),y})();var W=h(9862),O=h(6814),P=h(95);const B=["messageContainer"];function G(g,y){if(1&g){const f=e.EpF();e.TgZ(0,"ion-item",23),e.NdJ("click",function(){const u=e.CHM(f).$implicit,k=e.oxw(3);return e.KtG(k.selectItem(u.name))}),e._uU(1),e.qZA()}if(2&g){const f=y.$implicit;e.xp6(1),e.hij(" ",f.name," ")}}function te(g,y){if(1&g&&(e.TgZ(0,"ion-list"),e.YNc(1,G,2,1,"ion-item",22),e.qZA()),2&g){const f=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",f.itemList)}}function S(g,y){if(1&g&&e.YNc(0,te,2,1,"ion-list",21),2&g){const f=e.oxw();e.Q6J("ngIf",f.isListOpen)}}function H(g,y){if(1&g&&(e.TgZ(0,"ion-item",26)(1,"div",27)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span",28),e._uU(5),e.ALo(6,"date"),e.qZA(),e._UZ(7,"ion-icon",29),e.qZA()()),2&g){const f=e.oxw().$implicit;e.xp6(3),e.Oqu(f.text),e.xp6(2),e.hij(" ",e.xi3(6,2,f.time,"shortTime")," ")}}function ne(g,y){if(1&g&&(e.TgZ(0,"ion-item",30)(1,"div",27)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span",28),e._uU(5),e.ALo(6,"date"),e.qZA(),e._UZ(7,"ion-icon",29),e.qZA()()),2&g){const f=e.oxw().$implicit;e.xp6(3),e.Oqu(f.text),e.xp6(2),e.hij(" ",e.xi3(6,2,f.time,"shortTime")," ")}}function oe(g,y){if(1&g&&(e.TgZ(0,"div"),e.YNc(1,H,8,5,"ion-item",24),e.YNc(2,ne,8,5,"ion-item",25),e.qZA()),2&g){const f=y.$implicit;e.xp6(1),e.Q6J("ngIf",f.text.length>0&&"other"==f.sender),e.xp6(1),e.Q6J("ngIf",f.text.length>0&&"me"==f.sender)}}function K(g,y){if(1&g){const f=e.EpF();e.TgZ(0,"ion-fab-button",31),e.NdJ("click",function(){e.CHM(f);const r=e.oxw();return e.KtG(r.scrollToBottom())}),e._UZ(1,"ion-icon",32),e.qZA()}}let re=(()=>{var g;class y{constructor(c,r,u,k){this.modalController=c,this.http=r,this.chatservice=u,this.actionSheetController=k,this.messages=[],this.showScrollToBottom=!1,this.name="",this.itemList=[],this.textlist=[],this.textfromuser="",this.usersendmsg="",this.isListOpen=!1,this.imageUrl=""}ionViewWillEnter(){this.name=localStorage.getItem("mytime"),this.callchatapi()}ngAfterViewChecked(){}backpage(){this.modalController.dismiss()}ngOnInit(){console.log("ngoninit"),localStorage.getItem("photo")?this.imageUrl=localStorage.getItem("photo"):this.chatservice.imageUrl$.subscribe(r=>{this.imageUrl=r});var c=localStorage.getItem("currentuser");console.log(c),this.chatservice.getMessage().subscribe(r=>{console.log("Received message:",r),console.log(r.data.user,"id yha h"),this.messages.push({text:r.data.text,sender:r.data.user!=c?"other":"me",time:new Date}),this.scrollToBottom()})}callchatapi(){this.http.get("./assets/data.json").subscribe(r=>{this.itemList=[];const u=r.chatsdata;console.log(u);for(let k=0;k<u.length;k++)this.itemList.push({name:u[k].name,time:u[k].time})})}sendtext(){this.usersendmsg=this.textfromuser,this.chatservice.sendMessage(this.textfromuser),this.textfromuser=""}openList(){this.isListOpen=!this.isListOpen}selectItem(c){this.name=c,this.isListOpen=!1}openImageModal(){var c=this;return(0,m.Z)(function*(){return(yield c.modalController.create({component:L})).present()})()}onScroll(c){this.content.getScrollElement().then(r=>{this.showScrollToBottom=!(r.scrollHeight-r.scrollTop-r.clientHeight<=60)})}scrollToBottom(){this.content.scrollToBottom(300),this.showScrollToBottom=!1}}return(g=y).\u0275fac=function(c){return new(c||g)(e.Y36(d.IN),e.Y36(W.eN),e.Y36(z.a),e.Y36(d.BX))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-user-chat"]],viewQuery:function(c,r){if(1&c&&(e.Gf(d.W2,5),e.Gf(B,5)),2&c){let u;e.iGM(u=e.CRH())&&(r.content=u.first),e.iGM(u=e.CRH())&&(r.messageContainer=u.first)}},decls:24,vars:7,consts:[[3,"translucent"],["lines","none",2,"--background","#128c7e"],[2,"display","flex","justify-content","space-around","flex-direction","row","align-items","center","grid-template-columns","auto auto auto auto auto auto","color","white"],["name","arrow-back-sharp",2,"font-size","x-large",3,"click"],[2,"width","32px","height","32px","margin-left","-1rem"],["alt","Silhouette of a person's head",3,"src","click"],["id","yup",2,"--background","transparent","font-weight","600","font-size","large","width","44%","margin-left","-1rem",3,"ngModel","ngModelChange","click"],["trigger","yup"],["name","videocam",2,"font-size","1.5rem","margin-top","0.2rem"],["name","call",2,"font-size","1.5rem","margin-top","0.2rem"],["id","hover-trigger","name","options",2,"font-size","1.5rem","margin-top","0.2rem"],[3,"scrollEvents","ionScroll"],[1,"message-container"],["messageContainer",""],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["size","small","color","primary",3,"click",4,"ngIf"],[2,"display","flex","flex-direction","row","margin","0.5rem"],["placeholder","Type a message","auto-grow","true","autofocus","true",2,"resize","none","max-height","200px","overflow-y","auto","border-radius","20px",3,"ngModel","ngModelChange","keyup.enter"],[2,"--background","#128c7e","--border-radius","50%","margin-left","10px","height","fit-content",3,"click"],["name","send"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["style","\n          float: left;\n          clear: both;\n          word-wrap: break-word;\n          overflow-wrap: break-word;\n          word-break: break-word;\n          width: fit-content;\n          border-radius: 1rem;\n          margin: 0.4rem;\n          border-top-left-radius: 0rem;\n          font-size: larger;\n          font-family: Nunito-Sans, sans-serif;\n          font-style: normal;\n          background-color: white;\n          color: black;\n        ",4,"ngIf"],["style","\n          clear: both;\n          word-wrap: break-word;\n          float: right;\n          overflow-wrap: break-word;\n          word-break: break-word;\n          width: fit-content;\n          border-radius: 1rem;\n          margin: 0.4rem;\n          border-top-right-radius: 0rem;\n          font-size: larger;\n          font-family: Nunito-Sans, sans-serif;\n          font-style: normal;\n          --background: #dcf8c6;\n        ",4,"ngIf"],[2,"float","left","clear","both","word-wrap","break-word","overflow-wrap","break-word","word-break","break-word","width","fit-content","border-radius","1rem","margin","0.4rem","border-top-left-radius","0rem","font-size","larger","font-family","Nunito-Sans, sans-serif","font-style","normal","background-color","white","color","black"],[2,"text-align","right"],[2,"font-size","small","color","gray","margin-top","0.5rem"],["color","primary","name","checkmark-done-outline",2,"margin-top","0.5rem"],[2,"clear","both","word-wrap","break-word","float","right","overflow-wrap","break-word","word-break","break-word","width","fit-content","border-radius","1rem","margin","0.4rem","border-top-right-radius","0rem","font-size","larger","font-family","Nunito-Sans, sans-serif","font-style","normal","--background","#dcf8c6"],["size","small","color","primary",3,"click"],["name","arrow-down-outline"]],template:function(c,r){1&c&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"ion-icon",3),e.NdJ("click",function(){return r.backpage()}),e.qZA(),e.TgZ(4,"ion-avatar",4)(5,"img",5),e.NdJ("click",function(){return r.openImageModal()}),e.qZA(),e._uU(6," /> "),e.qZA(),e.TgZ(7,"ion-input",6),e.NdJ("ngModelChange",function(k){return r.name=k})("click",function(){return r.openList()}),e.qZA(),e.TgZ(8,"ion-popover",7),e.YNc(9,S,1,1,"ng-template"),e.qZA(),e._UZ(10,"ion-icon",8)(11,"ion-icon",9)(12,"ion-icon",10),e.qZA()()(),e.TgZ(13,"ion-content",11),e.NdJ("ionScroll",function(k){return r.onScroll(k)}),e.TgZ(14,"div",12,13),e.YNc(16,oe,3,2,"div",14),e.qZA(),e.TgZ(17,"ion-fab",15),e.YNc(18,K,2,0,"ion-fab-button",16),e.qZA()(),e.TgZ(19,"ion-footer")(20,"div",17)(21,"ion-textarea",18),e.NdJ("ngModelChange",function(k){return r.textfromuser=k})("keyup.enter",function(){return r.sendtext()}),e.qZA(),e.TgZ(22,"ion-button",19),e.NdJ("click",function(){return r.sendtext()}),e._UZ(23,"ion-icon",20),e.qZA()()()),2&c&&(e.Q6J("translucent",!0),e.xp6(5),e.Q6J("src",r.imageUrl,e.LSH),e.xp6(2),e.Q6J("ngModel",r.name),e.xp6(6),e.Q6J("scrollEvents",!0),e.xp6(3),e.Q6J("ngForOf",r.messages),e.xp6(2),e.Q6J("ngIf",r.showScrollToBottom),e.xp6(3),e.Q6J("ngModel",r.textfromuser))},dependencies:[O.sg,O.O5,P.JJ,P.On,d.BJ,d.YG,d.W2,d.IJ,d.W4,d.fr,d.Gu,d.gu,d.pK,d.Ie,d.q_,d.g2,d.sr,d.d8,d.j9,O.uU],styles:[".bg[_ngcontent-%COMP%]{background-image:url(https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png);height:400px;width:100%}ion-textarea[_ngcontent-%COMP%]{background-color:#f0f0f0;border-radius:20px;padding:10px;font-size:16px;--border-color: none;font-family:sans-serif;color:#000}ion-content[_ngcontent-%COMP%]::part(background){background-image:url(https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png)}ion-footer[_ngcontent-%COMP%]{background-image:url(https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png)}.go-to-bottom-btn[_ngcontent-%COMP%]{right:20px;bottom:5rem;color:wheat;border:none;position:fixed;border-radius:50%;background:#25D366;padding:10px;font-size:13px;cursor:pointer;display:block;z-index:10;transition:opacity .3s ease}.go-to-bottom-btn.show[_ngcontent-%COMP%]{display:block}ion-avatar[_ngcontent-%COMP%]{width:100px;height:100px;overflow:hidden}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.incoming-message[_ngcontent-%COMP%]{background-color:#e1ffc7;color:#000;padding:10px;border-radius:10px;max-width:80%;margin-bottom:10px;align-self:flex-start}.outgoing-message[_ngcontent-%COMP%]{background-color:#dcf8c6;color:#000;padding:10px;border-radius:10px;max-width:80%;margin-bottom:10px;align-self:flex-end}"]}),y})()},6658:(N,M,h)=>{h.d(M,{a:()=>z});var m=h(5619),d=h(7398),U=h(2029),e=h(5926);let z=(()=>{var L;class W{constructor(P){this.socket=P,this.imageUrlSource=new m.X(""),this.imageUrl$=this.imageUrlSource.asObservable()}setImageUrl(P){this.imageUrlSource.next(P)}getImageUrl(){return this.imageUrlSource.value}sendMessage(P){console.log(P);const B=localStorage.getItem("currentuser"),G=localStorage.getItem("fcm_token");console.log(B),this.socket.emit("message",{text:P,user:B,token:G})}getMessage(){return this.socket.fromEvent("received").pipe((0,d.U)(P=>P))}}return(L=W).\u0275fac=function(P){return new(P||L)(U.LFG(e.s))},L.\u0275prov=U.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),W})()}}]);